{
    "config_analysis": {
        "optimization": {
            "score": 85,
            "issues": [
                "Training period too short"
            ],
            "recommendations": [
                "Increase training_days to 90-120"
            ],
            "config_data": {
                "optimizer": "bayesian",
                "optimization_enabled": true,
                "regime_analysis_enabled": true,
                "training_days": 60,
                "testing_days": 15,
                "max_optimization_trials": 50,
                "optimization_timeout": 180,
                "data_settings": {
                    "file_path": "data/crypto_data_5m.parquet",
                    "symbol": "BTCUSDT",
                    "timeframe": "5m",
                    "start_date": "2021-01-01",
                    "end_date": "2025-12-31",
                    "multi_timeframe_enabled": true,
                    "timeframe_files": {
                        "5m": "data/crypto_data_5m.parquet",
                        "15m": "data/crypto_data_15m.parquet",
                        "1h": "data/crypto_data_1h.parquet",
                        "4h": "data/crypto_data_4h.parquet"
                    },
                    "primary_timeframe": "5m",
                    "signal_timeframes": [
                        "15m",
                        "1h",
                        "4h"
                    ]
                },
                "fixed_parameters": {
                    "initial_capital": 10000,
                    "commission": 0.001,
                    "slippage": 0.0005,
                    "max_position_size": 0.25
                },
                "parameter_ranges": {
                    "ichimoku_conversion": [
                        9,
                        30
                    ],
                    "ichimoku_base": [
                        26,
                        60
                    ],
                    "ichimoku_leading_span_b": [
                        52,
                        120
                    ],
                    "rsi_period": [
                        10,
                        30
                    ],
                    "rsi_overbought": [
                        65,
                        85
                    ],
                    "rsi_oversold": [
                        15,
                        35
                    ],
                    "adx_period": [
                        10,
                        30
                    ],
                    "adx_threshold": [
                        20,
                        40
                    ],
                    "bb_period": [
                        15,
                        30
                    ],
                    "bb_std": [
                        1.5,
                        2.5
                    ],
                    "stop_loss_pct": [
                        0.5,
                        3.0
                    ],
                    "take_profit_pct": [
                        1.0,
                        5.0
                    ],
                    "position_size_pct": [
                        1.0,
                        25.0
                    ]
                },
                "regime_parameters": {
                    "regime_auto_tune": true,
                    "regime_tune_every": 2,
                    "regime_min_trades": 8,
                    "regime_ema_alpha": 0.4,
                    "min_regime_mult": 0.4,
                    "max_regime_mult": 1.8,
                    "regime_step": 0.05,
                    "regime_window_size": 50,
                    "regime_confidence_threshold": 0.7
                },
                "best_parameters_so_far": {
                    "ichimoku_conversion": 14,
                    "ichimoku_base": 36,
                    "ichimoku_leading_span_b": 72,
                    "rsi_period": 18,
                    "rsi_overbought": 75,
                    "rsi_oversold": 25,
                    "adx_period": 18,
                    "adx_threshold": 28,
                    "bb_period": 22,
                    "bb_std": 2.1,
                    "stop_loss_pct": 1.8,
                    "take_profit_pct": 3.2,
                    "position_size_pct": 12.5,
                    "last_updated": "2025-08-20",
                    "performance_score": 1.87,
                    "sharpe_ratio": 1.42
                },
                "warm_start_enabled": true,
                "regime_multipliers": {
                    "trending_up": 1.2,
                    "trending_down": 0.8,
                    "sideways": 1.0,
                    "high_volatility": 0.6,
                    "low_volatility": 1.1
                },
                "machine_learning": {
                    "enabled": true,
                    "model_type": "ensemble",
                    "feature_engineering": {
                        "technical_indicators": true,
                        "price_patterns": true,
                        "volume_analysis": true,
                        "regime_classification": true
                    },
                    "ensemble_models": {
                        "random_forest": {
                            "enabled": true,
                            "n_estimators": 100,
                            "max_depth": 10,
                            "min_samples_split": 5
                        },
                        "gradient_boosting": {
                            "enabled": true,
                            "n_estimators": 100,
                            "learning_rate": 0.1,
                            "max_depth": 6
                        },
                        "neural_network": {
                            "enabled": false,
                            "hidden_layers": [
                                64,
                                32,
                                16
                            ],
                            "dropout_rate": 0.2,
                            "epochs": 100
                        }
                    },
                    "training_config": {
                        "test_size": 0.2,
                        "validation_size": 0.2,
                        "cross_validation_folds": 5,
                        "feature_importance_threshold": 0.01
                    }
                },
                "bot_settings": {
                    "trading_enabled": false,
                    "paper_trading": true,
                    "max_concurrent_trades": 3,
                    "min_trade_interval_minutes": 15,
                    "emergency_stop_enabled": true,
                    "max_daily_loss_pct": 5.0,
                    "trading_hours": {
                        "enabled": false,
                        "start_hour": 9,
                        "end_hour": 17,
                        "timezone": "UTC"
                    },
                    "risk_management": {
                        "max_portfolio_risk": 0.02,
                        "correlation_limit": 0.7,
                        "drawdown_limit": 0.15
                    }
                },
                "optimization_settings": {
                    "max_iterations": 500,
                    "population_size": 50,
                    "convergence_threshold": 0.001,
                    "timeout_minutes": 120,
                    "parallel_workers": 4,
                    "parallel_optimization": true,
                    "n_jobs": "auto",
                    "optimization_algorithm": "bayesian",
                    "objective_function": "sharpe_ratio",
                    "intensity": "3",
                    "hybrid_optimization": {
                        "enabled": true,
                        "exploration_fraction": 0.4,
                        "min_explore_trials": 20,
                        "min_refine_trials": 30,
                        "bayesian_seed_top_k": 8
                    },
                    "adaptive_parallel": {
                        "enabled": true,
                        "min_workers": 2,
                        "max_workers": 8,
                        "scale_factor": 0.7,
                        "memory_safety_ratio": 0.75,
                        "spare_cores": 1,
                        "throughput_improvement_threshold": 0.05
                    },
                    "seed_diversity": {
                        "enabled": true,
                        "min_distance": 0.15,
                        "max_seeds": 8
                    },
                    "calls_per_window": {
                        "1": 10,
                        "2": 25,
                        "3": 50,
                        "4": 100,
                        "5": 200
                    },
                    "min_trials_before_pruning": {
                        "1": 5,
                        "2": 10,
                        "3": 15,
                        "4": 20,
                        "5": 25
                    },
                    "pruning_warmup_steps": {
                        "1": 3,
                        "2": 5,
                        "3": 8,
                        "4": 10,
                        "5": 15
                    },
                    "disable_pruning": true,
                    "constraints": {
                        "min_trades": 10,
                        "max_drawdown": 0.25,
                        "min_profit_factor": 1.1
                    }
                },
                "debug_settings": {
                    "enable_correlation_analysis": true,
                    "save_trial_data": true,
                    "skip_parameter_comparison": false,
                    "force_trial_data_save": true
                },
                "walk_forward_settings": {
                    "training_days": 180,
                    "testing_days": 45,
                    "minimum_windows": 1,
                    "overlap_days": 0
                },
                "output_settings": {
                    "base_output_dir": "backtest_results",
                    "runs_to_keep": 10,
                    "save_detailed_results": true,
                    "save_trade_history": true
                },
                "parameter_spaces": {
                    "technical_indicators": [
                        {
                            "name": "TENKAN_SEN_PERIOD",
                            "type": "integer",
                            "bounds": [
                                4,
                                14
                            ]
                        },
                        {
                            "name": "KIJUN_SEN_PERIOD",
                            "type": "integer",
                            "bounds": [
                                15,
                                35
                            ]
                        },
                        {
                            "name": "SENKOU_SPAN_B_PERIOD",
                            "type": "integer",
                            "bounds": [
                                30,
                                70
                            ]
                        },
                        {
                            "name": "RSI_PERIOD",
                            "type": "integer",
                            "bounds": [
                                10,
                                30
                            ]
                        },
                        {
                            "name": "RSI_OVERBOUGHT",
                            "type": "real",
                            "bounds": [
                                65.0,
                                85.0
                            ]
                        },
                        {
                            "name": "RSI_OVERSOLD",
                            "type": "real",
                            "bounds": [
                                15.0,
                                35.0
                            ]
                        },
                        {
                            "name": "ADX_PERIOD",
                            "type": "integer",
                            "bounds": [
                                10,
                                30
                            ]
                        },
                        {
                            "name": "ADX_THRESHOLD",
                            "type": "real",
                            "bounds": [
                                20.0,
                                40.0
                            ]
                        },
                        {
                            "name": "BBANDS_PERIOD",
                            "type": "integer",
                            "bounds": [
                                15,
                                30
                            ]
                        },
                        {
                            "name": "BBANDS_STD",
                            "type": "real",
                            "bounds": [
                                1.5,
                                2.5
                            ]
                        }
                    ],
                    "risk_management": [
                        {
                            "name": "STOP_LOSS_MULTIPLIER",
                            "type": "real",
                            "bounds": [
                                0.5,
                                3.0
                            ]
                        },
                        {
                            "name": "TAKE_PROFIT_MULTIPLIER",
                            "type": "real",
                            "bounds": [
                                1.0,
                                5.0
                            ]
                        },
                        {
                            "name": "POSITION_SIZE_PCT",
                            "type": "real",
                            "bounds": [
                                1.0,
                                25.0
                            ]
                        }
                    ]
                }
            }
        },
        "main": {
            "score": 100,
            "issues": [],
            "recommendations": [],
            "config_data": {
                "trading": {
                    "default_symbols": [
                        "BTCUSDT",
                        "ETHUSDT",
                        "ADAUSDT"
                    ],
                    "default_position_size": 10,
                    "default_stop_loss": 2.0,
                    "default_take_profit": 4.0,
                    "risk_management": {
                        "max_positions": 3,
                        "max_daily_loss": 5.0,
                        "position_size_percent": 1.0
                    }
                },
                "api": {
                    "binance": {
                        "base_url": "https://api.binance.com",
                        "testnet_url": "https://testnet.binance.vision",
                        "rate_limit": {
                            "requests_per_minute": 1200,
                            "order_requests_per_second": 10
                        }
                    }
                },
                "notifications": {
                    "telegram": {
                        "enabled": true,
                        "notification_types": [
                            "trade_executed",
                            "error",
                            "daily_summary"
                        ]
                    }
                },
                "monitoring": {
                    "health_check_interval": 300,
                    "log_level": "INFO",
                    "metrics_enabled": true
                },
                "version": "1.0.0",
                "environment": "development"
            }
        },
        "monitoring": {
            "score": 100,
            "issues": [],
            "recommendations": [],
            "config_data": {
                "monitoring_enabled": true,
                "check_interval_seconds": 30,
                "alert_cooldown_minutes": 15,
                "email_alerts": false,
                "file_alerts": true
            }
        }
    },
    "optimized_config": {
        "optimizer": "bayesian",
        "optimization_enabled": true,
        "regime_analysis_enabled": true,
        "training_days": 120,
        "testing_days": 20,
        "max_optimization_trials": 75,
        "optimization_timeout": 240,
        "data_settings": {
            "file_path": "data/crypto_data_5m.parquet",
            "symbol": "BTCUSDT",
            "timeframe": "5m",
            "start_date": "2021-01-01",
            "end_date": "2025-12-31",
            "multi_timeframe_enabled": true,
            "timeframe_files": {
                "5m": "data/crypto_data_5m.parquet",
                "15m": "data/crypto_data_15m.parquet",
                "1h": "data/crypto_data_1h.parquet",
                "4h": "data/crypto_data_4h.parquet"
            },
            "primary_timeframe": "5m",
            "signal_timeframes": [
                "15m",
                "1h",
                "4h"
            ],
            "regime_analysis_enabled": true,
            "multi_timeframe_regime_enabled": true,
            "regime_confidence_required": 0.75,
            "lookback_periods": {
                "5m": 1000,
                "15m": 800,
                "1h": 600,
                "4h": 400
            }
        },
        "fixed_parameters": {
            "initial_capital": 10000,
            "commission": 0.001,
            "slippage": 0.0005,
            "max_position_size": 0.25
        },
        "parameter_ranges": {
            "ichimoku_conversion": [
                9,
                30
            ],
            "ichimoku_base": [
                26,
                60
            ],
            "ichimoku_leading_span_b": [
                52,
                120
            ],
            "rsi_period": [
                10,
                30
            ],
            "rsi_overbought": [
                65,
                85
            ],
            "rsi_oversold": [
                15,
                35
            ],
            "adx_period": [
                10,
                30
            ],
            "adx_threshold": [
                20,
                40
            ],
            "bb_period": [
                15,
                30
            ],
            "bb_std": [
                1.5,
                2.5
            ],
            "stop_loss_pct": [
                0.5,
                3.0
            ],
            "take_profit_pct": [
                1.0,
                5.0
            ],
            "position_size_pct": [
                1.0,
                25.0
            ]
        },
        "regime_parameters": {
            "regime_auto_tune": true,
            "regime_tune_every": 2,
            "regime_min_trades": 10,
            "regime_ema_alpha": 0.3,
            "min_regime_mult": 0.3,
            "max_regime_mult": 2.2,
            "regime_step": 0.03,
            "regime_window_size": 60,
            "regime_confidence_threshold": 0.75
        },
        "best_parameters_so_far": {
            "ichimoku_conversion": 14,
            "ichimoku_base": 36,
            "ichimoku_leading_span_b": 72,
            "rsi_period": 18,
            "rsi_overbought": 75,
            "rsi_oversold": 25,
            "adx_period": 18,
            "adx_threshold": 28,
            "bb_period": 22,
            "bb_std": 2.1,
            "stop_loss_pct": 1.8,
            "take_profit_pct": 3.2,
            "position_size_pct": 12.5,
            "last_updated": "2025-08-20",
            "performance_score": 1.87,
            "sharpe_ratio": 1.42
        },
        "warm_start_enabled": true,
        "regime_multipliers": {
            "trending_up": 1.4,
            "trending_down": 0.6,
            "sideways": 0.9,
            "high_volatility": 0.4,
            "low_volatility": 1.2,
            "breakout_bullish": 1.6,
            "breakout_bearish": 0.5,
            "accumulation": 1.1,
            "distribution": 0.7
        },
        "machine_learning": {
            "enabled": true,
            "model_type": "ensemble",
            "regime_prediction_enabled": true,
            "feature_engineering": {
                "technical_indicators": true,
                "price_patterns": true,
                "volume_analysis": true,
                "regime_classification": true,
                "multi_timeframe_features": true
            },
            "ensemble_models": {
                "random_forest": {
                    "enabled": true,
                    "n_estimators": 150,
                    "max_depth": 12,
                    "min_samples_split": 4
                },
                "gradient_boosting": {
                    "enabled": true,
                    "n_estimators": 120,
                    "learning_rate": 0.08,
                    "max_depth": 8
                },
                "neural_network": {
                    "enabled": true,
                    "hidden_layers": [
                        128,
                        64,
                        32,
                        16
                    ],
                    "dropout_rate": 0.3,
                    "epochs": 150
                }
            },
            "training_config": {
                "test_size": 0.15,
                "validation_size": 0.15,
                "cross_validation_folds": 7,
                "feature_importance_threshold": 0.005
            }
        },
        "bot_settings": {
            "trading_enabled": false,
            "paper_trading": true,
            "max_concurrent_trades": 3,
            "min_trade_interval_minutes": 15,
            "emergency_stop_enabled": true,
            "max_daily_loss_pct": 5.0,
            "trading_hours": {
                "enabled": false,
                "start_hour": 9,
                "end_hour": 17,
                "timezone": "UTC"
            },
            "risk_management": {
                "max_portfolio_risk": 0.02,
                "correlation_limit": 0.7,
                "drawdown_limit": 0.15
            }
        },
        "optimization_settings": {
            "max_iterations": 400,
            "population_size": 60,
            "convergence_threshold": 0.0005,
            "timeout_minutes": 180,
            "parallel_workers": 6,
            "parallel_optimization": true,
            "n_jobs": "auto",
            "optimization_algorithm": "bayesian",
            "objective_function": "combined_score",
            "intensity": "4",
            "hybrid_optimization": {
                "enabled": true,
                "exploration_fraction": 0.3,
                "min_explore_trials": 30,
                "min_refine_trials": 50
            }
        },
        "debug_settings": {
            "enable_correlation_analysis": true,
            "save_trial_data": true,
            "skip_parameter_comparison": false,
            "force_trial_data_save": true
        },
        "walk_forward_settings": {
            "training_days": 180,
            "testing_days": 45,
            "minimum_windows": 1,
            "overlap_days": 0
        },
        "output_settings": {
            "base_output_dir": "backtest_results",
            "runs_to_keep": 10,
            "save_detailed_results": true,
            "save_trade_history": true
        },
        "parameter_spaces": {
            "technical_indicators": [
                {
                    "name": "TENKAN_SEN_PERIOD",
                    "type": "integer",
                    "bounds": [
                        4,
                        14
                    ]
                },
                {
                    "name": "KIJUN_SEN_PERIOD",
                    "type": "integer",
                    "bounds": [
                        15,
                        35
                    ]
                },
                {
                    "name": "SENKOU_SPAN_B_PERIOD",
                    "type": "integer",
                    "bounds": [
                        30,
                        70
                    ]
                },
                {
                    "name": "RSI_PERIOD",
                    "type": "integer",
                    "bounds": [
                        10,
                        30
                    ]
                },
                {
                    "name": "RSI_OVERBOUGHT",
                    "type": "real",
                    "bounds": [
                        65.0,
                        85.0
                    ]
                },
                {
                    "name": "RSI_OVERSOLD",
                    "type": "real",
                    "bounds": [
                        15.0,
                        35.0
                    ]
                },
                {
                    "name": "ADX_PERIOD",
                    "type": "integer",
                    "bounds": [
                        10,
                        30
                    ]
                },
                {
                    "name": "ADX_THRESHOLD",
                    "type": "real",
                    "bounds": [
                        20.0,
                        40.0
                    ]
                },
                {
                    "name": "BBANDS_PERIOD",
                    "type": "integer",
                    "bounds": [
                        15,
                        30
                    ]
                },
                {
                    "name": "BBANDS_STD",
                    "type": "real",
                    "bounds": [
                        1.5,
                        2.5
                    ]
                }
            ],
            "risk_management": [
                {
                    "name": "STOP_LOSS_MULTIPLIER",
                    "type": "real",
                    "bounds": [
                        0.5,
                        3.0
                    ]
                },
                {
                    "name": "TAKE_PROFIT_MULTIPLIER",
                    "type": "real",
                    "bounds": [
                        1.0,
                        5.0
                    ]
                },
                {
                    "name": "POSITION_SIZE_PCT",
                    "type": "real",
                    "bounds": [
                        1.0,
                        25.0
                    ]
                }
            ]
        },
        "regime_detection": {
            "enabled": true,
            "calibration_enabled": true,
            "adaptive_thresholds": true,
            "multi_timeframe_confirmation": true,
            "confidence_weighting": true,
            "performance_tracking": true
        }
    },
    "risk_config": {
        "position_sizing": {
            "base_size_pct": 1.5,
            "max_size_pct": 3.0,
            "regime_multipliers": {
                "high_volatility": 0.3,
                "low_volatility": 1.2,
                "trending_bull": 1.4,
                "trending_bear": 0.6,
                "ranging": 0.8,
                "breakout_bullish": 1.3,
                "breakout_bearish": 0.4,
                "accumulation": 1.0,
                "distribution": 0.7
            }
        },
        "stop_loss": {
            "base_stop_pct": 1.5,
            "max_stop_pct": 4.0,
            "regime_adjustments": {
                "high_volatility": 2.0,
                "low_volatility": 0.8,
                "trending_bull": 1.2,
                "trending_bear": 1.5,
                "ranging": 1.0,
                "breakout_bullish": 1.8,
                "breakout_bearish": 1.3,
                "accumulation": 0.9,
                "distribution": 1.4
            },
            "trailing_enabled": true,
            "trailing_distance_pct": 1.2
        },
        "take_profit": {
            "base_tp_pct": 3.0,
            "max_tp_pct": 8.0,
            "regime_multipliers": {
                "high_volatility": 0.8,
                "low_volatility": 1.3,
                "trending_bull": 1.5,
                "trending_bear": 0.7,
                "ranging": 1.0,
                "breakout_bullish": 1.8,
                "breakout_bearish": 0.6,
                "accumulation": 1.2,
                "distribution": 0.8
            },
            "partial_profit_enabled": true,
            "partial_profit_levels": [
                0.5,
                0.75
            ]
        },
        "portfolio_limits": {
            "max_portfolio_risk": 8.0,
            "max_daily_loss": 3.0,
            "max_concurrent_trades": 4,
            "correlation_limit": 0.6,
            "max_sector_exposure": 0.4,
            "drawdown_limit": 12.0
        },
        "dynamic_adjustments": {
            "enabled": true,
            "volatility_scaling": true,
            "performance_scaling": true,
            "time_scaling": true,
            "confidence_scaling": true
        }
    },
    "monitoring_config": {
        "monitoring_enabled": true,
        "check_interval_seconds": 30,
        "alert_cooldown_minutes": 10,
        "performance_monitoring": true,
        "alerts": {
            "email_alerts": true,
            "file_alerts": true,
            "console_alerts": true,
            "telegram_alerts": true,
            "severity_levels": {
                "critical": [
                    "regime_failure",
                    "stop_loss_breach",
                    "system_error"
                ],
                "warning": [
                    "low_confidence",
                    "high_volatility",
                    "correlation_breach"
                ],
                "info": [
                    "regime_change",
                    "position_update",
                    "performance_update"
                ]
            }
        },
        "performance_tracking": {
            "enabled": true,
            "metrics_interval_minutes": 15,
            "track_regime_accuracy": true,
            "track_position_performance": true,
            "track_risk_metrics": true,
            "auto_reporting": true
        },
        "health_checks": {
            "enabled": true,
            "check_interval_minutes": 5,
            "data_freshness_check": true,
            "connection_check": true,
            "memory_check": true,
            "performance_check": true
        },
        "logging": {
            "level": "INFO",
            "file_logging": true,
            "rotation_enabled": true,
            "max_file_size_mb": 100,
            "backup_count": 7,
            "detailed_regime_logging": true
        }
    },
    "bottlenecks": {
        "data_loading": {
            "issue": "Multiple parquet file reads per analysis",
            "impact": "High",
            "solution": "Implement data caching and single load strategy",
            "priority": "High"
        },
        "indicator_calculation": {
            "issue": "Recalculating indicators for each regime check",
            "impact": "Medium",
            "solution": "Cache calculated indicators and update incrementally",
            "priority": "Medium"
        },
        "regime_validation": {
            "issue": "Forward-looking validation is computationally expensive",
            "impact": "Medium",
            "solution": "Use sampling and parallel processing",
            "priority": "Medium"
        },
        "config_loading": {
            "issue": "Config files loaded multiple times",
            "impact": "Low",
            "solution": "Implement config caching",
            "priority": "Low"
        }
    },
    "optimization_plan": {
        "immediate_actions": [
            "Update optimization_config.json with enhanced parameters",
            "Implement optimized risk management configuration",
            "Enable enhanced monitoring and alerting",
            "Cache frequently accessed data files"
        ],
        "short_term_improvements": [
            "Implement indicator calculation caching",
            "Add parallel processing for regime validation",
            "Optimize threshold calibration algorithm",
            "Add performance profiling and metrics"
        ],
        "long_term_enhancements": [
            "Implement real-time data streaming",
            "Add machine learning model caching",
            "Develop predictive regime detection",
            "Create automated optimization pipeline"
        ],
        "monitoring_requirements": [
            "Track regime detection accuracy over time",
            "Monitor system performance metrics",
            "Alert on configuration drift",
            "Log all regime transitions for analysis"
        ]
    },
    "summary": {
        "timestamp": "2025-08-21T20:40:30.019394",
        "average_config_score": 95.0,
        "total_optimizations_applied": 4,
        "critical_issues_resolved": 1,
        "performance_improvements": [
            "Enhanced regime detection parameters",
            "Optimized risk management settings",
            "Improved monitoring configuration",
            "Performance bottleneck identification"
        ],
        "production_readiness": "True",
        "next_steps": [
            "Test optimized configurations",
            "Monitor performance improvements",
            "Implement caching strategies",
            "Deploy enhanced monitoring"
        ]
    }
}