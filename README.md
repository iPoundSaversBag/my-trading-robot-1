# My Trading Robot

## Overview

This project is a sophisticated, fully automated cryptocurrency trading robot designed for the Binance exchange. It employs a complex, multi-indicator strategy based on the Ichimoku Kinko Hyo system, augmented with signals from the Relative Strength Index (RSI), Average Directional Index (ADX), and Bollinger Bands.

The core of the project is a two-tier, self-optimizing pipeline that continuously backtests, analyzes, and refines the trading strategy without manual intervention.

## Key Features

- **Automated Two-Tier Optimization:** The system not only finds the best values for strategy parameters but also optimizes the search space itself over time.
- **Walk-Forward Optimization (WFO):** Uses a robust, time-series cross-validation technique to prevent lookahead bias and simulate realistic, out-of-sample performance.
- **High-Performance Core:** The critical backtesting logic is JIT-compiled with Numba, allowing for C-like execution speed.
- **Advanced Trade Management:** Implements sophisticated risk management, including partial take-profits and an adaptive trailing stop-loss based on market volatility (ATR).
- **Comprehensive Debugging:** Includes a "fast-debug" mode and the ability to disable Numba for interactive debugging sessions.
- **Modular Architecture:** The entire system is broken down into logical, well-documented modules that are orchestrated by a central `watcher.py` script.

## File Structure

Here is a breakdown of the key files and directories in the project:

| File/Folder                  | Description                                                                                                                              |
| ---------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| **`ichimoku_backtest.py`**   | The primary engine for backtesting and optimizing the trading strategy.                                                                  |
| **`watcher.py`**             | The master controller that orchestrates the entire optimization pipeline. **This is the main script to run for optimization.**             |
| **`live_bot.py`**            | The execution engine for live trading on the Binance exchange.                                                                           |
| **`optimization_config.json`** | The master configuration file. Defines data sources, optimization settings, and parameter search spaces.                               |
| **`manage_data.py`**         | A utility for downloading, cleaning, and verifying the integrity of historical market data.                                              |
| **`analyze_parameter_limits.py`** | A helper script called by the watcher to analyze if the optimizer is being constrained by its search bounds.                         |
| **`generate_plots.py`**      | The dedicated visualization engine for generating detailed charts and reports from backtest results.                                     |
| **`setup_env.bat`**          | A batch script to automatically create a Python virtual environment and install all required dependencies.                               |
| **`requirements.txt`**       | A list of all the Python libraries required to run the project.                                                                          |
| **`final_optimized_params.json`** | An output file generated by the backtester, containing the best parameters found for each walk-forward window.                       |
| **`crypto_data.parquet`**    | The binary data file containing the downloaded historical market data.                                                                   |
| **`plots_output/`**          | The directory where all generated plots, logs, and run-specific configurations are saved.                                                |
| **`.gitignore`**             | Specifies which files and directories should be ignored by Git (e.g., generated data, logs, and cache files).                            |

## Setup Instructions

1.  **Clone the Repository:**
    ```bash
    git clone <your-repository-url>
    cd my-trading-robot-1
    ```

2.  **Set Up the Environment:**
    Run the setup script to create a virtual environment and install all dependencies.
    ```bash
    setup_env.bat
    ```

3.  **Download Data:**
    Before running a backtest, you need to download the historical market data. Run the `manage_data.py` script.
    ```bash
    python manage_data.py
    ```

## Usage

### Running the Full Optimization Pipeline

To run the main, self-optimizing pipeline, execute the `watcher.py` script. This will continuously run backtests, analyze the results, and adjust the strategy over time.

```bash
python watcher.py
```

### Running a Single Backtest

To run a single backtest without the full watcher orchestration, you can run the `ichimoku_backtest.py` script directly.

```bash
python ichimoku_backtest.py
```

### Debugging

The backtester includes powerful debugging features:

-   **Fast-Debug Mode:** To run a quick backtest on a smaller dataset for rapid feedback, use the `--debug` flag.
    ```bash
    python ichimoku_backtest.py --debug
    ```

-   **Interactive Debugging:** To disable the Numba compiler for use with an interactive debugger like `pdb`, use the `--no-numba` flag. This will run much slower but allows you to step through the core logic.
    ```bash
    python ichimoku_backtest.py --no-numba --debug
    ```

### Live Trading

To run the live trading bot, ensure you have set up your API keys and then execute the `live_bot.py` script.

```bash
python live_bot.py
```
